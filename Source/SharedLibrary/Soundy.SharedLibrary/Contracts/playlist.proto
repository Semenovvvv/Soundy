syntax = "proto3";

import "Models/track_data.proto";
import "Models/playlist_data.proto";

option csharp_namespace = "Soundy.SharedLibrary.Contracts.Playlist";

service PlaylistGrpcService {
	rpc Create (CreateRequest) returns (CreateResponse);
	rpc GetById (GetByIdRequest) returns (GetByIdResponse);
	rpc GetListByAuthorId (GetListByAuthorIdRequest) returns (GetListByAuthorIdResponse);
	rpc Update (UpdateRequest) returns (UpdateResponse);
	rpc Delete (DeleteRequest) returns (DeleteResponse);
}

//======== Requests ========
message CreateRequest {
	string name = 1;
	string authorId = 2;
}

message GetByIdRequest{
	string id = 1;
}

message GetListByAuthorIdRequest{
	string author_id = 1;
}

message UpdateRequest{
	string id = 1;
	string name = 2;
}

message DeleteRequest{
	string id = 1;
}

//======== Responses ========

message CreateResponse {
	string id = 1;
	string authorId = 2;
	string name = 3;
}

message GetByIdResponse{
	string id = 1;
	string author_id = 2;
	string name = 3;
	repeated TrackData tracks = 4;
}

message GetListByAuthorIdResponse{
	string author_id = 1;
	repeated PlaylistData playlists = 2;
}

message UpdateResponse{
	string id = 1;
	string author_id = 2;
	string name = 3;
}

message DeleteResponse {
  bool is_success = 1;
}