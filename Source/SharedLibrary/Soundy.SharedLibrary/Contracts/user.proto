syntax = "proto3";

import "Models/operation_response.proto";
import "Models/pagination_info.proto";

service UserGrpcService {
    rpc CreateUser (CreateUserRequest) returns (CreateUserResponse);
    rpc GetUserById (GetUserByIdRequest) returns (GetUserByIdResponse);
    rpc UpdateUser (UpdateUserRequest) returns (UpdateUserResponse);
    rpc DeleteUser (DeleteUserRequest) returns (DeleteUserResponse);
    rpc SearchUsers (SearchUsersRequest) returns (SearchUsersResponse);
}

//======== Requests ========
message CreateUserRequest{
    string username = 1;
    string email = 3;
}

message GetUserByIdRequest {
    string id = 1;
}

message UpdateUserRequest {
    string id = 1;
    string username = 2;
    string email = 3;
}

message DeleteUserRequest {
    string id = 1;
}

message SearchUsersRequest {
    string pattern = 1;
    int32 page_number = 2;
    int32 page_size = 3;
}

//======== Responses ========
message CreateUserResponse{
    string id = 1;
    string username = 2;
    string email = 3;
}

message UpdateUserResponse {
    string id = 1;
    string username = 2;
    string email = 3;
}

message GetUserByIdResponse {
    string id = 1;
    string username = 2;
    string email = 3;
}

message DeleteUserResponse{
    bool is_success = 1;
}

message SearchUsersResponse {
    repeated UserData users = 1;
    int32 page_number = 2;
    int32 page_size = 3;
}

message UserData{
    string id = 1;
    string username = 2;
    string email = 3;
}